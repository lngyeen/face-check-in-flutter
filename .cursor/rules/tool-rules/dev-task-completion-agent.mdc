---
description: This rule governs the development workflow for completing tasks within stories. It should be applied whenever: (1) A development agent completes any task within a story, (2) Code changes are made as part of story implementation, (3) Task progress needs to be tracked and documented, (4) Story status transitions are required. The rule ensures proper task tracking, documentation updates, and commit practices that maintain clear project history and enable effective team collaboration on story-driven development.
globs: 
alwaysApply: false
---

# Development Task Completion Workflow

## Critical Rules

- **ALWAYS update task status** with [x] checkbox in the story file immediately after completing any task
- Update story progress notes with completion details and any important findings
- **MANDATORY commit sequence** after task completion:
  1. Update task status in story file first
  2. Stage all changes with `git add .`
  3. Create comprehensive commit message following conventional commits
  4. Include story reference and task completion details in commit
- Commit messages MUST reference the story ID and completed task number
- Update story status (Draft → InProgress → Review → Complete) when appropriate
- Document any blockers, dependencies, or integration points discovered during task completion
- **Never leave tasks unmarked** - every completed task must be marked with [x]
- If multiple tasks completed in single commit, list all completed task numbers
- Include story point progress in commit messages when significant milestones reached

## Examples

<example>
After completing Task 3 in Story 1.1:

1. Update docs/stories/1.1.story.md:
   - [x] Task 3: Implement BLoC state management
   - Progress Notes: "BLoC foundation complete with 15+ events and comprehensive state"

2. Commit with message:
   feat: Complete Story 1.1 Task 3 - BLoC State Management
   
   - Implemented CheckInState with freezed annotations (10 properties)
   - Created CheckInEvent structure (15+ events organized by categories)  
   - Added CheckInBloc foundation with skeleton handlers
   - Code generation setup and verification complete
   
   Story 1.1 Progress: 3/10 tasks complete (30%)
</example>

<example type="invalid">
Completing task but not updating story file:
- Making code changes
- Committing with generic message "fix: updated code"
- Not marking task as complete in story document
- No reference to story or task number in commit
</example>
